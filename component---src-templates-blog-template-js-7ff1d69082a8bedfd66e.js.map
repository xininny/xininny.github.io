{"version":3,"file":"component---src-templates-blog-template-js-7ff1d69082a8bedfd66e.js","mappings":"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","sources":["webpack://zoomkoding.com/./src/models/post.js","webpack://zoomkoding.com/./src/components/post-header/index.js","webpack://zoomkoding.com/./src/components/post-navigator/index.js","webpack://zoomkoding.com/./src/components/post-content/index.js","webpack://zoomkoding.com/./src/components/utterances/index.js","webpack://zoomkoding.com/./src/templates/blog-template.js"],"sourcesContent":["export default class Post {\r\n  constructor(node) {\r\n    const { id, html, excerpt, frontmatter, fields } = node;\r\n    const { slug } = fields;\r\n    const { emoji, categories, title, author, date } = frontmatter;\r\n\r\n    this.id = id;\r\n    this.excerpt = excerpt;\r\n    this.emoji = emoji;\r\n    this.html = html;\r\n    this.slug = slug;\r\n    this.title = title;\r\n    this.author = author;\r\n    this.date = date;\r\n    this.categories = categories?.split(' ');\r\n  }\r\n}\r\n","import { Link } from 'gatsby';\r\nimport React from 'react';\r\nimport './style.scss';\r\n\r\nfunction PostHeader({ post }) {\r\n  return (\r\n    <header className=\"post-header\">\r\n      {post.emoji && <div className=\"emoji\">{post.emoji}</div>}\r\n      <div className=\"info\">\r\n        <div className=\"categories\">\r\n          {post.categories.map((category) => (\r\n            <Link className=\"category\" key={category} to={`/posts/${category}`}>\r\n              {category}\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <h1 className=\"title\">{post.title}</h1>\r\n      <div className=\"info\">\r\n        <div className=\"author\">\r\n          posted by <strong>{post.author}</strong>,\r\n        </div>{' '}\r\n        {post.date}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\nexport default PostHeader;\r\n","import { Link } from 'gatsby';\r\nimport React from 'react';\r\nimport './style.scss';\r\n\r\nfunction PostNavigator({ prevPost, nextPost }) {\r\n  return (\r\n    <div className=\"post-navigator\">\r\n      <div className=\"post-navigator-card-wrapper\">\r\n        {nextPost && (\r\n          <Link className=\"post-card prev\" key={nextPost.id} to={nextPost.slug}>\r\n            <div className=\"direction\">이전 글</div>\r\n            <div className=\"title\">{nextPost.title}</div>\r\n          </Link>\r\n        )}\r\n      </div>\r\n      <div className=\"post-navigator-card-wrapper\">\r\n        {prevPost && (\r\n          <Link className=\"post-card next\" key={prevPost.id} to={prevPost.slug}>\r\n            <div className=\"direction\">다음 글</div>\r\n            <div className=\"title\">{prevPost.title}</div>\r\n          </Link>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostNavigator;\r\n","import React from 'react';\r\nimport './style.scss';\r\n\r\nfunction PostContent({ html }) {\r\n  return (\r\n    <div className=\"post-content\">\r\n      <div className=\"markdown\" dangerouslySetInnerHTML={{ __html: html }} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostContent;\r\n","import React, { createRef, useEffect, useRef } from 'react';\r\nimport { getValueFromLocalStorage } from '../../utils/localStorage';\r\n\r\nconst url = 'https://utteranc.es';\r\nconst branch = 'master';\r\n\r\nconst getTheme = () => getValueFromLocalStorage('isDarkMode') ? 'photon-dark' : 'github-light'\r\n\r\nconst resetChangeListener = () => {\r\n  const utterances = document.querySelector('iframe')?.contentWindow;\r\n  utterances?.postMessage({\r\n    type: 'set-theme',\r\n    theme: getTheme()\r\n  }, url);\r\n}\r\n\r\nfunction Utterances({ repo, path }) {\r\n  const rootElm = createRef();\r\n  const isUtterancesLoaded = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (!rootElm.current || isUtterancesLoaded.current) return;\r\n\r\n    const utterances = document.createElement('script');\r\n    const utterancesConfig = {\r\n      src: `${url}/client.js`,\r\n      repo,\r\n      branch,\r\n      theme: getTheme(),\r\n      label: 'comment',\r\n      async: true,\r\n      'issue-term': 'pathname',\r\n      crossorigin: 'anonymous',\r\n    };\r\n\r\n    Object.keys(utterancesConfig).forEach((configKey) => {\r\n      utterances.setAttribute(configKey, utterancesConfig[configKey]);\r\n    });\r\n    rootElm.current.appendChild(utterances);\r\n    window.addEventListener('theme', resetChangeListener)\r\n    isUtterancesLoaded.current = true;\r\n  }, [repo, rootElm, path]);\r\n\r\n  return <div className=\"utterances\" ref={rootElm} />;\r\n}\r\n\r\nexport default Utterances;\r\n","import React from 'react';\r\nimport { graphql } from 'gatsby';\r\nimport Layout from '../layout';\r\nimport Seo from '../components/seo';\r\nimport PostHeader from '../components/post-header';\r\nimport PostNavigator from '../components/post-navigator';\r\nimport Post from '../models/post';\r\nimport PostContent from '../components/post-content';\r\nimport Utterances from '../components/utterances';\r\n\r\nfunction BlogTemplate({ data }) {\r\n  const curPost = new Post(data.cur);\r\n  const prevPost = data.prev && new Post(data.prev);\r\n  const nextPost = data.next && new Post(data.next);\r\n  const { comments } = data.site?.siteMetadata;\r\n  const utterancesRepo = comments?.utterances?.repo;\r\n\r\n  return (\r\n    <Layout>\r\n      <Seo title={curPost?.title} description={curPost?.excerpt} />\r\n      <PostHeader post={curPost} />\r\n      <PostContent html={curPost.html} />\r\n      <PostNavigator prevPost={prevPost} nextPost={nextPost} />\r\n      {utterancesRepo && <Utterances repo={utterancesRepo} path={curPost.slug} />}\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default BlogTemplate;\r\n\r\nexport const pageQuery = graphql`\r\n  query($slug: String, $nextSlug: String, $prevSlug: String) {\r\n    cur: markdownRemark(fields: { slug: { eq: $slug } }) {\r\n      id\r\n      html\r\n      excerpt(pruneLength: 500, truncate: true)\r\n      frontmatter {\r\n        date(formatString: \"MMMM DD, YYYY\")\r\n        title\r\n        categories\r\n        author\r\n        emoji\r\n      }\r\n      fields {\r\n        slug\r\n      }\r\n    }\r\n\r\n    next: markdownRemark(fields: { slug: { eq: $nextSlug } }) {\r\n      id\r\n      html\r\n      frontmatter {\r\n        date(formatString: \"MMMM DD, YYYY\")\r\n        title\r\n        categories\r\n        author\r\n        emoji\r\n      }\r\n      fields {\r\n        slug\r\n      }\r\n    }\r\n\r\n    prev: markdownRemark(fields: { slug: { eq: $prevSlug } }) {\r\n      id\r\n      html\r\n      frontmatter {\r\n        date(formatString: \"MMMM DD, YYYY\")\r\n        title\r\n        categories\r\n        author\r\n        emoji\r\n      }\r\n      fields {\r\n        slug\r\n      }\r\n    }\r\n\r\n    site {\r\n      siteMetadata {\r\n        siteUrl\r\n        comments {\r\n          utterances {\r\n            repo\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":["Post","node","id","html","excerpt","frontmatter","slug","fields","emoji","categories","title","author","date","this","split","_ref","post","React","className","map","category","Link","key","to","prevPost","nextPost","dangerouslySetInnerHTML","__html","url","getTheme","getValueFromLocalStorage","resetChangeListener","_document$querySelect","utterances","document","querySelector","contentWindow","postMessage","type","theme","repo","path","rootElm","createRef","isUtterancesLoaded","useRef","useEffect","current","createElement","utterancesConfig","src","branch","label","async","crossorigin","Object","keys","forEach","configKey","setAttribute","appendChild","window","addEventListener","ref","_data$site","_comments$utterances","data","curPost","cur","prev","next","comments","site","siteMetadata","utterancesRepo","Layout","Seo","description","PostHeader","PostContent","PostNavigator","Utterances"],"sourceRoot":""}